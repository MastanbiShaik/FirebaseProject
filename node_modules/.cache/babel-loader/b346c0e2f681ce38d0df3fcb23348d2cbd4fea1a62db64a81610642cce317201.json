{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dell/Mastanbi/FirebaseProject/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/Dell/Mastanbi/FirebaseProject/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Dell/Mastanbi/FirebaseProject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Dell/Mastanbi/FirebaseProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Dell/Mastanbi/FirebaseProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./App.css';import Expenses from'./components/Expenses/Expenses';import NewExpense from'./components/NewExpense/NewExpense';import{BrowserRouter as Router,Routes,Route,Link,useNavigate}from'react-router-dom';import ExpensesFilter from'./components/ExpensesFilter/ExpensesFilter';import{db}from'./firebase';import{addDoc,collection,getDocs}from'firebase/firestore';import{async}from'@firebase/util';import{CookiesProvider}from'react-cookie';import useCookies from\"react-cookie/cjs/useCookies\";import Login from'./components/Login/Login';// import 'bootstrap/dist/css/bootstrap.css';\n// import { Firestore } from 'firebase/firestore';\n// const Dummy_Expense = [\n//   {\n//     id: 'e1',\n//     title: 'Toilet Paper',\n//     amount: 94.12,\n//     date: new Date(2020, 7, 14),\n//   },\n//   { id: 'e2', title: 'New TV', amount: 799.49, date: new Date(2021, 2, 12) },\n//   {\n//     id: 'e3',\n//     title: 'Car Insurance',\n//     amount: 294.67,\n//     date: new Date(2021, 2, 28),\n//   },\n//   {\n//     id: 'e4',\n//     title: 'New Desk (Wooden)',\n//     amount: 450,\n//     date: new Date(2021, 5, 12),\n//   },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useCookies=useCookies('name'),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookies=_useCookies2[1];//const navigate = useNavigate()\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),expenses=_useState2[0],SetExpenses=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),year=_useState4[0],setYear=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var onSelectedYear=function onSelectedYear(selectedYear){setYear(selectedYear);};var ref=collection(db,\"expenses\");// useEffect(() => {\nvar getExpenses=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(ref);case 2:data=_context.sent;data.docs.map(function(doc){var newData=doc.data();var data={id:newData.id,date:newData.date.toDate(),amount:newData.amount,name:newData.name};SetExpenses.apply(void 0,_toConsumableArray(expenses).concat([data]));});SetExpenses(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));case 5:case\"end\":return _context.stop();}}},_callee);}));return function getExpenses(){return _ref.apply(this,arguments);};}();getExpenses();//setCookies(\"allExpenses\", expenses)\n// const data = cookies.allExpenses\n// console.log(data)\n// }, [])\nvar addExpenseHandler=function addExpenseHandler(expense){console.log(expense);var data={id:expense.id,date:new Date(expense.date),amount:expense.amount,name:expense.title};try{addDoc(ref,data);setMessage(\"Expense Added Successfully\");}catch(e){console.log(e);setMessage(\"Expense Added Failed\");}// SetExpenses(prevExpenses => {\n//   return [expense, ...prevExpenses]\n// })\n};// return React.createElement(\n//   'div',\n//   {},\n//   React.createElement('h2', {}, \"Let's Get Started\"),\n//   React.createElement(Expenses, {expenses:expenses})\n// )\nreturn/*#__PURE__*/_jsx(CookiesProvider,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/NewExpense/NewExpense\",children:\"Add Expenses\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/ExpensesFilter/ExpensesFilter\",children:\"Expenses Filter\"})})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/NewExpense/NewExpense\",element:/*#__PURE__*/_jsx(NewExpense,{onAddExpense:addExpenseHandler,message:message})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/ExpensesFilter/ExpensesFilter\",element:/*#__PURE__*/_jsx(Expenses,{expenses:expenses,appliFilter:true})})]})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Expenses","NewExpense","BrowserRouter","Router","Routes","Route","Link","useNavigate","ExpensesFilter","db","addDoc","collection","getDocs","async","CookiesProvider","useCookies","Login","App","cookies","setCookies","expenses","SetExpenses","year","setYear","message","setMessage","onSelectedYear","selectedYear","ref","getExpenses","data","docs","map","doc","newData","id","date","toDate","amount","name","addExpenseHandler","expense","console","log","Date","title","e"],"sources":["C:/Users/Dell/Mastanbi/FirebaseProject/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Expenses from './components/Expenses/Expenses';\nimport NewExpense from './components/NewExpense/NewExpense';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n  useNavigate\n} from 'react-router-dom';\nimport ExpensesFilter from './components/ExpensesFilter/ExpensesFilter';\nimport { db } from './firebase';\nimport { addDoc, collection, getDocs } from 'firebase/firestore';\nimport { async } from '@firebase/util';\nimport { CookiesProvider } from 'react-cookie';\nimport useCookies from \"react-cookie/cjs/useCookies\"\nimport Login from './components/Login/Login';\n// import 'bootstrap/dist/css/bootstrap.css';\n// import { Firestore } from 'firebase/firestore';\n\n// const Dummy_Expense = [\n//   {\n//     id: 'e1',\n//     title: 'Toilet Paper',\n//     amount: 94.12,\n//     date: new Date(2020, 7, 14),\n//   },\n//   { id: 'e2', title: 'New TV', amount: 799.49, date: new Date(2021, 2, 12) },\n//   {\n//     id: 'e3',\n//     title: 'Car Insurance',\n//     amount: 294.67,\n//     date: new Date(2021, 2, 28),\n//   },\n//   {\n//     id: 'e4',\n//     title: 'New Desk (Wooden)',\n//     amount: 450,\n//     date: new Date(2021, 5, 12),\n//   },\n// ];\n\nconst App = () => {\n  const [cookies, setCookies] = useCookies('name')\n  //const navigate = useNavigate()\n  const [expenses, SetExpenses] = useState([]);\n  const [year, setYear] = useState('')\n  const [message, setMessage] = useState('')\n\n  const onSelectedYear = (selectedYear) => {\n      setYear(selectedYear)\n  }\n  const ref = collection(db, \"expenses\")\n\n  // useEffect(() => {\n    const getExpenses = async () => {\n        \n        const data = await getDocs(ref)\n        data.docs.map(doc => {\n          \n          const newData = doc.data()\n\n          const data = {\n            id: newData.id,\n            date: newData.date.toDate(),\n            amount: newData.amount,\n            name: newData.name\n          }\n\n          SetExpenses(...expenses, data)\n        })\n        SetExpenses(data.docs.map((doc) => ({...doc.data(), id: doc.id})))\n        \n    }\n\n    getExpenses()\n    //setCookies(\"allExpenses\", expenses)\n\n    // const data = cookies.allExpenses\n    // console.log(data)\n  // }, [])\n  const addExpenseHandler = expense => {\n    console.log(expense)\n    const data = {\n      id: expense.id,\n      date: new Date(expense.date),\n      amount: expense.amount,\n      name: expense.title\n    }\n    try{\n      addDoc(ref, data)\n      setMessage(\"Expense Added Successfully\")\n    }\n    catch(e){\n      console.log(e)\n      setMessage(\"Expense Added Failed\")\n    }\n    // SetExpenses(prevExpenses => {\n    //   return [expense, ...prevExpenses]\n    // })\n  }\n  // return React.createElement(\n  //   'div',\n  //   {},\n  //   React.createElement('h2', {}, \"Let's Get Started\"),\n  //   React.createElement(Expenses, {expenses:expenses})\n  // )\n  return (\n    \n    <CookiesProvider>\n      <Router>\n           <div className=\"App\">\n           <ul className='nav-menu'>\n              <li>\n                {/* <Link to=\"/\">Expenses</Link> */}\n                <Link to=\"/\">Login</Link>\n              </li>\n              <li>\n                <Link to=\"/NewExpense/NewExpense\">Add Expenses</Link>\n              </li>\n              <li>\n                <Link to=\"/ExpensesFilter/ExpensesFilter\">Expenses Filter</Link>\n              </li>\n            </ul>\n           </div>\n           <Routes>\n              {/* <Route exact path='/' element={< Expenses expenses={expenses} appliFilter={false} />}></Route> */}\n              <Route exact path='/' element={<Login />}></Route>\n              <Route exact path='/NewExpense/NewExpense' element={< NewExpense onAddExpense={addExpenseHandler} message={message} />}></Route>\n              <Route exact path='/ExpensesFilter/ExpensesFilter' element={ <Expenses expenses={expenses} appliFilter={true}/>}></Route>\n          </Routes>\n       </Router>\n   \n    </CookiesProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}